---
code:
    path:
        template: '{0}ch/09/{1}/|'
---

# 09. Lint and Build Setup

In this chapter, we will go over how to set up npm lint and build scripts to lint our code and output our build to files.

## Linting

To ensure code quality, we can set up a lint script.

We already have [ESLint](https://github.com/eslint/eslint) and [Prettier](https://github.com/prettier/prettier) integrated into our project, so we can simply call ESLint CLI; for TypeScript project, we additionally call TypeScript compiler to type check.

Putting them together and add a `lint` script to our `package.json`:

<Code pathTemplate="{0}package.json">

```json
{
    "scripts": {
        "lint": "tsc -p . --noEmit && eslint --ext .ts src/"
        // ...
    }
    // ...
}
```

```json
{
    "scripts": {
        "lint": "eslint --ext .mjs src/"
        // ...
    }
    // ...
}
```

</Code>

You can lint your project code by executing `lint` script using terminal or IDE npm script integration:

```bash
npm run lint
```

## Building

`buildOutput` already contains built files as well as hash, all we need to do is to simply write them to disk so they can be served.

We create `src/build.ts` which outputs the files:

<Code pathTemplate="{0}src/build.{2}">

```ts
import { writeFileSync } from 'fs'
import { buildOutput } from '.'

writeFileSync('EngineConfiguration', buildOutput.engine.configuration.buffer)
writeFileSync('EngineData', buildOutput.engine.data.buffer)
writeFileSync('LevelData', buildOutput.level.data.buffer)
```

```js
import { writeFileSync } from 'fs'
import { buildOutput } from './index.mjs'

writeFileSync('EngineConfiguration', buildOutput.engine.configuration.buffer)
writeFileSync('EngineData', buildOutput.engine.data.buffer)
writeFileSync('LevelData', buildOutput.level.data.buffer)
```

</Code>

Normally the level data is not needed as we are developing an engine, however in this guide we are going to output it so we can test it in a real production server as well.

Lastly, we add it as a `build` script to our `package.json`:

<Code pathTemplate="{0}package.json">

```json
{
    "scripts": {
        "build": "ts-node ./src/build"
        // ...
    }
    // ...
}
```

```json
{
    "scripts": {
        "build": "node ./src/build.mjs"
        // ...
    }
    // ...
}
```

</Code>

You can build your project by executing `build` script using terminal or IDE npm script integration:

```bash
npm run build
```
